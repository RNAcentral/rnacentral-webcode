<!--
Copyright [2009-2014] EMBL-European Bioinformatics Institute
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% extends "portal/base.html" %}
{% load markdown_deux_tags %}

{% block title %}
RNAcentral API Documentation
{% endblock %}

{% block content %}

<div class="row">

  <div class="col-md-9" role="main">

{% markdown %}

<h1 id="api-docs">RNAcentral API Documentation</h1>

<h2 id="overview">Overview</h2>

Most data in RNAcentral can be accessed programmatically using a RESTful API
allowing for integration with other resources.

<h3 id="web-browsable-api">Web browsable API</h3>

Depending on whether a URL is viewed in a browser or is retrieved programmatically,
the response is rendered either in human- or computer-friendly formats.

Moreover, many resources are hyperlinked so that it's possible to navigate the API without leaving the browser.

As a result, developers can familiarise themselves with the API and get a better sense of the data.

<h3 id="versioning">Versioning</h3>

To ensure that changes in the RNAcentral API don't break any applications
relying on it, the API is versioned, and the version is included in the API URL.

For example, the current API is at Version 1 and is available at <a href="/api/v1">/api/v1</a>,
and the next version will be available at <a href="/api/v2">/api/v2</a>.

The latest version of the API can be accessed at <a href="/api/current">/api/current</a>,
but it's not recommended to use this endpoint for long-term
development as the underlying data model may change.

No **backward-incompatible changes** are made to each version after it's been made public.
More specifically, it's guaranteed that within one version there will be no:

* changing urls
* deleting or renaming data fields
* changing data field types

The following **non-disruptive changes** may be implemented to a public API:

* adding new endpoints
* adding new data fields
* adding new filtering methods

An advance notice will be given before obsoleting an API version. To stay up to date,
please consider signing up for <a href="#">RNAcentral updates</a>.

<h3 id="throttling">Throttling</h3>

The maximum number of requests from the same IP address is limited to <strong>10</strong> per second.

### Credits

The RNAcentral API is based on the <a href="http://www.django-rest-framework.org/" target="_blank">Django Rest Framework</a>.

<hr>

<h2 id="api-v1">API v1 documentation</h2>

<h3 id="pagination">Pagination</h3>

The response is paginated to prevent accidental downloads of large amounts of data and to speed up the API.

The default page size is <strong>10</strong> entries, but it can be adjusted by specifying the <code>page_size</code> parameter.
The maximum value of <code>page_size</code> is <strong>100</strong>.

<h4>Examples</h4>

* <a href="http://127.0.0.1:8000/api/v1/rna/?page_size=5">http://127.0.0.1:8000/api/v1/rna/?page_size=5</a>
* <a href="http://127.0.0.1:8000/api/v1/rna/?page=2&page_size=5">http://127.0.0.1:8000/api/v1/rna/?page=2&page_size=5</a></p>

<h3 id="output-format">Output format</h3>

* HTML version: <a href="http://127.0.0.1:8000/api/v1/rna/UPI0000000001/">http://127.0.0.1:8000/api/v1/rna/UPI0000000001/</a>
* JSON version: <a href="http://127.0.0.1:8000/api/v1/rna/UPI0000000001/?format=json">http://127.0.0.1:8000/api/v1/rna/UPI0000000001/?format=json</a>

{% endmarkdown %}

  </div>

  <nav id="affix-nav" class="sidebar col-md-3 hidden-print visible-lg" role="complementary">
    <ul class="nav sidenav affix" data-spy="affix" id="affix-ul">
        <li class="active"><a href="#api-docs">API documentation</a>
        <li>
          <a href="#overview">Overview</a>
          <ul class="nav">
            <li><a href="#web-browsable-api">Web browsable API</a></li>
            <li><a href="#versioning">Versioning</a></li>
            <li><a href="#throttling">Throttling</a></li>
          </ul>
        </li>
        <li>
          <a href="#api-v1">API v1 documentation</a>
          <ul class="nav">
            <li><a href="#pagination">Pagination</a></li>
            <li><a href="#output-format">Output format</a></li>
          </ul>
        </li>
    </ul>
  </nav>

</div>

{% endblock content %}


{% block extra_js %}
  {{ block.super }}
  <script type="text/javascript">
    $(function() {
      $('body').scrollspy({ target: '#affix-nav' });
      var $affix = $("#affix-ul");
      $affix.affix({
        offset: {
            top: 80
        }
      }).width($affix.parent().width());
      $(window).resize(function () {
        $affix.width($affix.parent().width());
      });
    });
  </script>
{% endblock extra_js %}