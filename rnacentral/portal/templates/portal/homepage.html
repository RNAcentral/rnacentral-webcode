<!--
Copyright [2009-2015] EMBL-European Bioinformatics Institute
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% extends "portal/base.html" %}
{% load staticfiles %}
{% load humanize %}

{% block meta_tags %}
    {{ block.super }}
    <meta name="description" content="RNAcentral is a comprehensive and up-to-date database of accessioned ncRNA sequences that integrates information from an international consortium of RNA sequence databases"/>
{% endblock %}

{% block title %}
RNAcentral
{% endblock %}

{% block content %}

  <div class="row well well-sm homepage-callout" id="homepage-callout">

    <div class="homepage-callout-overlay">
      <h2 class="text-center">
        RNAcentral: The non-coding RNA sequence database
      </h2>

      <p class="text-center">
        <a href="{% url 'about' %}">More about RNAcentral &rarr;</a>
      </p>

      <p class="text-center">
        <a class="btn btn-success" id="guided-tour">Take a tour</a>
      </p>
    </div>

  </div>

  <div class="row">

    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="panel panel-default homepage-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-search"></i> Text search</h2>
          <p class="text-center">
            Search by <em>gene, species, publication, author</em> or any other keyword
          </p>
          <a class="btn btn-primary" href="/search?q=RNA" id="btn-browse-sequences">Browse sequences</a>
        </div>
      </div>
    </div>

    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="panel panel-default homepage-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-puzzle-piece"></i> Sequence search</h2>
          <p class="text-center">
            Search for similar sequences
            <br>
            or look up your sequence in RNAcentral
          </p>
          <a class="btn btn-primary" id="btn-sequence-search" href="{% url 'nhmmer-sequence-search' %}" role="button">Search by sequence</a>
        </div>
      </div>
    </div>

    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="panel panel-default homepage-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-map-marker"></i> Genome browser</h2>
          <p class="text-center">
            Explore RNAcentral sequences in your favorite genome locations
          </p>
          <a class="btn btn-primary" id="btn-genome-browser" href="{% url 'genome-browser' %}" role="button">Browse genomes</a>
        </div>
      </div>
    </div>

  </div>

  <div class="row well well-sm">

    <p class="lead text-center margin-bottom-0px">
      {{ context.databases|length }} participating ncRNA databases
    </p>

    <div id="expert-databases">
      {% for database in context.databases %}
        <div class="hvr-grow help expert-db-card" data-container="body" title="{% if database.abbreviation %}{{ database.abbreviation }}{% else %}{{ database.name }}{% endif %}">
          <a class="expert-db-logo" href="{% url 'expert-database' database.label %}">
            <img class="img-rounded desaturate" data-lazy="{% static 'img/expert-db-logos' %}/{{database.label}}.png" alt="{{database.name}} logo">
          </a>
          <p class="margin-top-5px text-center">
          <a href="" rel="nofollow" ng-click="meta_search('expert_db:%22{{database.name}}%22')">
            <em>{{database.num_sequences|intword|intcomma}}</em>
            sequences
          </a>
          <br>
          <a href="{% url 'unique-rna-sequence' database.examples|first %}" id="{{database.label}}-examples">Example</a>
          <br>
          {% if database.status == 'new' %}
            <span class="label label-info help" data-placement="bottom">New</span>
          {% elif database.status == 'updated' %}
            <span class="label label-primary help" data-placement="bottom">Updated</span>
          {% endif %}
          </p>
        </div>
      {% endfor %}
    </div>

  </div>

  <div class="row">

      <div class="col-md-4">
        <div class="panel panel-default">
          <h3 class="text-center margin-bottom-0px"><i class="fa fa-twitter"></i> Tweets</h3>
          <div class="panel-body">
            <ul class="list-inline margin-top-5px">
              <li class="twitter-follow-button-list">
                <a class="twitter-follow-button text-center"
                   href="https://twitter.com/rnacentral"
                   data-dnt="true"
                   data-show-count="true"
                   data-show-screen-name="false"
                   data-lang="en">Follow</a>
                <script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script>
              </li>
              <li><a href="https://twitter.com/rnacentral">All tweets</a></li>
            </ul>

            <a class="twitter-timeline"
              data-widget-id="687988869359382529"
              href="https://twitter.com/rnacentral"
              data-chrome="noheader nofooter noborders"
              data-tweet-limit="2">
            Tweets by @RNAcentral
            </a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="panel panel-default">
          <h3 class="text-center margin-bottom-0px"><i class="fa fa-bullhorn"></i> News</h3>
          <div class="panel-body">
            <ul class="list-inline margin-top-5px">
              <li><a href="http://blog.rnacentral.org" target="_blank"><i class="fa fa-bookmark-o"></i> RNAcentral Blog</a></li>
              <li><a href="http://blog.rnacentral.org/feeds/posts/default" target="_blank"><i class="fa fa-rss"></i> RSS feed</a></li>
            </ul>

            <h4>Release 4</h4>

            <ul>
              <li>7 new databases, including SILVA, GreenGenes, and PomBase</li>
              <li>modified nucleotides from PDBe and Modomics (<a href="http://rnacentral.org/rna/URS00001BBAFC" class="help" title="E.coli tRNA with modifications from PDBe and Modomics">example</a>)</li>
              <li>more details in <a href="http://blog.rnacentral.org/2015/11/rnacentral-release-4.html">release announcement</a></li>
            </ul>

            <h4>RNAcentral Webinar</h4>

            <p>
              Learn how to navigate RNAcentral website by
              <a href="http://blog.rnacentral.org/2015/10/watch-recording-of-rnacentral-webinar.html">watching the webinar</a>.
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="panel panel-default">
          <h3 class="text-center margin-bottom-0px"><i class="fa fa-pencil"></i> Citing RNAcentral</h3>
          <div class="panel-body">
            <p>
              If you use RNAcentral,
              please cite the following paper:
              <blockquote class="callout-info">
                <p>RNAcentral: an international database of ncRNA sequences</p>
                <footer>The RNAcentral Consortium, 2015</footer>
                <footer><em>Nucleic Acids Research (Database issue)</em></footer>
              </blockquote>
            </p>
            <a href="http://nar.oxfordjournals.org/content/43/D1/D123.full" target="_blank">NAR</a> |
            <a href="http://europepmc.org/articles/PMC4384043" target="_blank">EuropePMC</a> |
            <a href="http://www.ncbi.nlm.nih.gov/pubmed/25352543" target="_blank">Pubmed</a>
          </div>
        </div>
      </div>

  </div>

{% endblock content %}

{% block extra_js_uncompressed %}
<script>
  $(function() {
    $('#expert-databases').slick({
      draggable: true,
      rows: 1,
      dots: true,
      adaptiveHeight: true,
      infinite: true,
      lazyLoad: 'ondemand',
      slidesToShow: 5,
      slidesToScroll: 5,
      arrows: true,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 5,
            slidesToScroll: 5,
          }
        },
        {
          breakpoint: 992,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4
          }
        },
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3
          }
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        },
        {
          breakpoint: 320,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        }
      ],
    });
  });

  /**
   * Hopscotch guided tour.
   */
  $('#guided-tour').click(function(){
    var Tour = {
  		id: 'homepage-tour',
  		showPrevButton: true,
  		scrollDuration: 700,
  		steps: [
  			{
  				title: 'Search by anything',
  				content: "You can search by <em>gene name</em>, <em>species</em>, <em>accession</em> or any other keyword. <a href={% url 'help-metadata-search' %} target=&quot;_blank&quot;>Explore examples</a>",
  				target: 'query-text',
  				placement: 'bottom',
  			},
        {
  				title: 'Use search facets to explore the data',
  				content: 'Browse all RNAcentral sequences using <strong>faceted search</strong>',
  				target: 'btn-browse-sequences',
  				placement: 'top',
  			},
        {
  				title: 'Search for similar sequences across databases',
  				content: 'For the first time, you can search data from multiple RNA databases in one go',
  				target: 'btn-sequence-search',
  				placement: 'top',
  			},
        {
  				title: 'Navigate to your favourite genome region',
  				content: 'View RNAcentral sequences alongside genes and transcripts from <a href="http://ensembl.org">Ensembl</a> and <a href="http://ensemblgenomes.org">Ensembl Genomes</a>',
  				target: 'btn-genome-browser',
  				placement: 'top',
          multipage: true,
          onNext: function() {
            window.location = '/rna/URS000025784F';
          }
  			},
        {
          title: '',
          content: '',
          target: '',
          placement: ''
        }
      ]
    }
    hopscotch.startTour(Tour, 0);
  });

</script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "http://rnacentral.org/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "http://rnacentral.org/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
{% endblock %}
