<!--
Copyright [2009-2015] EMBL-European Bioinformatics Institute
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% extends "portal/base.html" %}
{% load staticfiles %}
{% load humanize %}

{% block meta_tags %}
    {{ block.super }}
    <meta name="description" content="RNAcentral is a comprehensive and up-to-date database of accessioned ncRNA sequences that integrates information from an international consortium of RNA sequence databases"/>
{% endblock %}

{% block title %}
RNAcentral
{% endblock %}

{% block content %}

  <div class="row well well-sm homepage-callout" id="homepage-callout">

    <div class="homepage-callout-overlay">
      <h2 class="text-center">
        Comprehensive database of non-coding RNA sequences
      </h2>

      <p class="text-center">
        A <strong>single entry point</strong>
        for searching multiple ncRNA databases
        and <strong>unique accessions</strong> for all sequences
        <br>
        <a href="{% url 'about' %}" style="">More about RNAcentral &rarr;</a>
      </p>
    </div>

  </div>

  <div class="row">

    <div class="col-md-4 col-sm-6 col-xs-12">
      <div class="panel panel-default expert-db-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-search"></i> Text search</h2>
          <p class="text-center">
            Filter and compare data from multiple resources using faceted search
          </p>
          <a class="btn btn-primary" href="/search?q=RNA">Browse sequences</a>
        </div>
      </div>
    </div>

    <div class="col-md-4 col-sm-6 col-xs-12">
      <div class="panel panel-default expert-db-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-puzzle-piece"></i> Sequence search</h2>
          <p class="text-center">
            Search for similar sequences
            <br>
            or look up your sequence in RNAcentral
          </p>
          <a class="btn btn-primary" href="{% url 'nhmmer-sequence-search' %}" role="button">Search by sequence</a>
        </div>
      </div>
    </div>

    <div class="col-md-4 col-sm-6 col-xs-12">
      <div class="panel panel-default expert-db-card">
        <div class="panel-body text-center">
          <h2 class="text-center"><i class="fa fa-map-marker"></i> Genome browser</h2>
          <p class="text-center">
            Explore RNAcentral sequences in your favorite genome locations
          </p>
          <a class="btn btn-primary" href="{% url 'genome-browser' %}" role="button">Browse genomes</a>
        </div>
      </div>
    </div>

  </div>

  <div class="row well">

    <p class="lead text-center">
      Bringing together 22 <a href="{% url 'expert-databases' %}">Expert Databases</a>
    </p>

    <div id="expert-databases">
      {% for database in context.databases %}
        <div>
          <a class="help expert-db-logo" href="{% url 'expert-database' database.label %}" title="{{database.name}} Expert Database">
            <img class="img-rounded hvr-grow desaturate" data-lazy="{% static 'img/expert-db-logos' %}/{{database.label}}.png" alt="{{database.name}} logo">
          </a>
          <a href="{% url 'unique-rna-sequence' database.examples|first %}" id="{{database.label}}-examples" class="small">Example</a>
        </div>
      {% endfor %}
    </div>

  </div>

  <div class="row">

      <div class="col-md-4">
        <div class="panel panel-default">
          <h3 class="text-center"><i class="fa fa-bar-chart-o"></i> Statistics</h3>
          <div class="panel-body">
            <ul class="fa-ul">
              <li><i class="fa-li fa fa-angle-right"></i> Release <strong>4</strong> ({{ context.last_update.release_date }})</li>
              <li><i class="fa-li fa fa-angle-right"></i> <em>{{ context.seq_count|intcomma }}</em> distinct sequences</li>
              <li><i class="fa-li fa fa-angle-right"></i> <em>{{ context.databases|length }}</em> Expert Databases</li>
              <li><i class="fa-li fa fa-angle-right"></i> <a href="{% url 'about' %}#growth-chart">Number of sequences over time</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="panel panel-default">
          <h3 class="text-center"><i class="fa fa-bullhorn"></i> News</h3>
          <div class="panel-body">
            <ul class="fa-ul">
              <li><i class="fa-li fa fa-angle-right" style="top:0.6em;"></i> <a href="http://blog.rnacentral.org/2015/11/rnacentral-release-4.html" class="font-size-large">RNAcentral release 4</a></li>
              <li><i class="fa-li fa fa-angle-right"></i> <a href="http://blog.rnacentral.org/2015/10/watch-recording-of-rnacentral-webinar.html">Watch RNAcentral webinar video</a></li>
              <li><i class="fa-li fa fa-angle-right"></i> <a href="http://blog.rnacentral.org/2015/06/rnacentral-release-3.html">RNAcentral release 3</a></li>
              <li><i class="fa-li fa fa-angle-right"></i> <a href="http://blog.rnacentral.org/2015/02/rnacentral-release-2.html">RNAcentral release 2</a></li>
            </ul>
            <ul class="list-inline">
              <li><a href="http://blog.rnacentral.org" target="_blank"><i class="fa fa-bookmark-o"></i> Blog</a></li>
              <li><a href="http://blog.rnacentral.org/feeds/posts/default" target="_blank"><i class="fa fa-rss"></i> RSS feed</a></li>
              <li class="twitter-follow-button-list">
                <a class="twitter-follow-button"
                   href="https://twitter.com/rnacentral"
                   data-dnt="true"
                   data-show-count="true"
                   data-show-screen-name="false"
                   data-lang="en">Follow</a>
                <script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="panel panel-default">
          <div class="panel-body text-center">
            <h3 class="text-center"><i class="fa fa-graduation-cap"></i> Citing RNAcentral</h3>
            <p class="text-center">
              If you use RNAcentral, please cite the following paper:
              <blockquote class="small callout-info">
                <p>RNAcentral: an international database of ncRNA sequences</p>
                <footer>The RNAcentral Consortium, 2015 (<a href="http://nar.oxfordjournals.org/content/43/D1/D123.full" target="_blank">NAR</a>)</footer>
              </blockquote>
            </p>
          </div>
        </div>
      </div>

  </div>

{% endblock content %}

{% block extra_js_uncompressed %}
<script>
  $(function() {
    $('#expert-databases').slick({
      draggable: true,
      rows: 1,
      dots: true,
      adaptiveHeight: true,
      infinite: true,
      autoplaySpeed: 7000,
      lazyLoad: 'ondemand',
      slidesToShow: 6,
      slidesToScroll: 6,
      arrows: false,
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 6,
            slidesToScroll: 6,
          }
        },
        {
          breakpoint: 992,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4
          }
        },
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3
          }
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        },
        {
          breakpoint: 320,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        }
      ],
    });
  });
</script>

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "http://rnacentral.org/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "http://rnacentral.org/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
{% endblock %}
