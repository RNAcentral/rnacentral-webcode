<!--
Copyright [2009-2014] EMBL-European Bioinformatics Institute
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% load staticfiles %}

<div class="navbar navbar-default navbar-static-top">

  <div class="container rnacentral-masthead">

    <!-- global-search -->
    <div class="row">
      <div class="col-md-3">
        <a href="/"><img src="{% static "img/logo/RNAcentral_logo.png" %}" alt="RNAcentral logo" class="rnacentral-header-logo"></a>
      </div>

      <div class="col-md-8 col-md-offset-1" ng-controller="QueryCtrl">

        <form novalidate name="queryForm" class="global-search" ng-submit="submit_query()">
          <fieldset>
          <div class="form-group" ng-class="(query.submitted && queryForm.$invalid) ? 'has-error' : ''">
            <div class="input-group">
              <input type="text"
                     placeholder="Organism, database, gene product"
                     class="form-control"
                     id="query-text"
                     name="text"
                     tabindex="1"
                     ng-model="query.text"
                     ng-minlength="2"
                     ng-maxlength="100"
                     autocomplete="off"
                     autofocus required>
              <div class="input-group-btn">
                <button type="submit" class="btn btn-primary" tabindex="2">
                  <i class="fa fa-search"></i>
                </button>
              </div><!-- /input-group-btn -->
            </div><!--input-group -->
            <span class="help-block">
              <small>
                <i>Examples: <a ng-click="search('human')">human</a>, <a ng-click="search('mirbase')">miRBase</a></i>
              </small>
            </span>
            <label class="control-label ng-cloak has-error"
                   for="query-text" ng-show="query.submitted && (queryForm.text.$error.required || queryForm.text.$error.minlength)"
                   ng-cloak>
              Your query is too short
            </label>
            <label class="control-label ng-cloak"
                   for="query-text" ng-show="query.submitted && (queryForm.text.$error.maxlength)"
                   ng-cloak>
              Your query is too long
            </label>
          </div><!-- /form-group -->
          </fieldset>
        </form><!-- /form -->

      </div><!-- /ng-controller -->
    </div><!-- /row -->
    <!-- /global-search -->

  </div>

  <div class="container rnacentral-masthead-menu">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-left">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown">Expert databases<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{% url 'portal.views.expert_database_view' expert_db_name='mirbase' %}">miRBase</a></li>
            <li><a href="{% url 'portal.views.expert_database_view' expert_db_name='srpdb' %}">SRPDB</a></li>
            <li><a href="{% url 'portal.views.expert_database_view' expert_db_name='tmrna-website' %}">tmRNA Website</a></li>
            <li><a href="{% url 'portal.views.expert_database_view' expert_db_name='vega' %}">VEGA</a></li>
            <li class="divider"></li>
            <li><a href="{% url 'expert-databases' %}">All Expert databases</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown">API<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="{% url 'api-v1-root' %}">Browsable API</a></li>
            <li><a href="{% url 'api-docs' %}">API Documentation</a></li>
          </ul>
        </li>
        <li><a href="{% url 'downloads' %}">Downloads</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="{% url 'help' %}">Help</a>
        </li>
        <li><a href="{% url 'contact-us' %}">Contact</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>

</div>
