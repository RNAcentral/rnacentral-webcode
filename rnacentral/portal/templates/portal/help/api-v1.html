<!--
Copyright [2009-2014] EMBL-European Bioinformatics Institute
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
     http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

{% extends "portal/base.html" %}

{% block title %}
RNAcentral API Documentation
{% endblock %}

{% block content %}

<div class="row">

  <div class="col-md-9" role="main">

  {% load markdown_deux_tags %}
  {% markdown %}

    {% include  'portal/docs/api-v1.md' %}

  {% endmarkdown %}

  <br>

  </div>

  {# affixed navigation menu #}
  <nav id="affix-nav" class="sidebar col-md-3 hidden-print visible-lg" role="complementary">
    <ul class="nav sidenav affix" data-spy="affix" id="affix-ul">
        <li>
          <a ng-click="scrollTo('overview')">API Overview</a>
          <ul class="nav">
            <li><a ng-click="scrollTo('web-browsable-api')">Web browsable API</a></li>
            <li><a ng-click="scrollTo('versioning')">Versioning</a></li>
            <li><a ng-click="scrollTo('throttling')">Throttling</a></li>
          </ul>
        </li>
        <li>
          <a ng-click="scrollTo('v1')">API v1 documentation</a>
          <ul class="nav">
            <li>
              <a ng-click="scrollTo('v1-example-responses')">Example responses</a>
              <ul class="nav">
                <li><a ng-click="scrollTo('v1-hyperlinked-vs-flat-responses')">Hyperlinked vs flat responses</a></li>
              </ul>
            </li>
            <li><a ng-click="scrollTo('v1-pagination')">Pagination</a></li>
            <li><a ng-click="scrollTo('v1-output-formats')">Output formats</a></li>
            <li>
              <a ng-click="scrollTo('v1-filtering')">Filtering</a>
              <ul class="nav">
                <li><a ng-click="scrollTo('v1-filtering-by-sequence-length')">Filtering by length</a></li>
                <li><a ng-click="scrollTo('v1-filtering-by-database')">Filtering by database</a></li>
                <li><a ng-click="scrollTo('v1-filtering-by-external-ids')">Filtering by external ids</a></li>
                <li><a ng-click="scrollTo('v1-combined-filters')">Combined filters</a></li>
              </ul>
            </li>
            <li><a ng-click="scrollTo('v1-genome-annotations')">Genome annotations</a></li>
            <li><a ng-click="scrollTo('v1-example-script')">Example script</a></li>
            <li><a ng-click="scrollTo('v1-cross-domain-requests')">Cross-domain requests</a></li>
            <li><a ng-click="scrollTo('v1-trailing-slash')">Trailing slash</a></li>
          </ul>
        </li>
    </ul>
  </nav>

</div>

{% endblock content %}


{% block extra_js %}
  {{ block.super }}

  <script type="text/javascript">
    $(function() {
      // enable scrollspy, required for the affix
      $('body').scrollspy({ target: '#affix-nav' });

      // activate the affix and set its width
      var $affix = $("#affix-ul");
      $affix.affix({
        offset: {
            top: 50
        }
      }).width($affix.parent().width());

      // control the width of the affix element after window resize
      $(window).resize(function () {
        $affix.width($affix.parent().width());
      });

      // open all content links in new windows
      $('.container-main a').not('.sidebar a').not('a.btn').each(function() {
        var $this = $(this);
        $this.html($this.html() + '&nbsp;<i class="fa fa-external-link"></i>').attr('target', '_blank');
      });
    });
  </script>
{% endblock extra_js %}
