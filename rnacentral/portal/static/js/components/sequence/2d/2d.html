<div id="2d" style="min-height: 600px">

    <h2>Secondary structure</h2>

    <div ng-show="$ctrl.secondaryStructures.useForna && $ctrl.numStructures > 0">
      <p>
        Predicted using tRNAScan-SE 2.0 (source: <a href="{{ $ctrl.getSourceUrl() }}">GtRNAdb</a>).
      </p>

      <div id="rna_ss" style="width: {{ $ctrl.fornaSize }}px; height: {{ $ctrl.fornaSize }}px; margin-left: 9px;"></div>
    </div>

    <div ng-if="!$ctrl.secondaryStructures.useForna">
      <div ng-if="$ctrl.numStructures > 0">
        <p>
         Generated by
         <a href="https://github.com/RNAcentral/auto-traveler">auto-traveler</a>
         using the
         <a href='/search?q=secondary_structure_model:"{{ $ctrl.secondaryStructures.secondary_structures[0].model_id }}"'
            uib-tooltip="Browse other sequences matching this template">
           {{ $ctrl.secondaryStructures.secondary_structures[0].model_id }}
         </a>
         template provided by <a href="http://www.rna.ccbb.utexas.edu/" target="_blank">CRW</a>.
         <a href="{{ $ctrl.help }}">Learn more &rarr;</a>
        <p>
        <p class="text-muted small">
         Template lineage: {{ $ctrl.secondaryStructures.secondary_structures[0].template_lineage }}
        </p>
      </div>

      <div id="rna_ss_traveler" class="thumbnail col-md-12 col-sm-12 col-xs-12" style="overflow: auto;"></div>

      <div class="panel panel-default traveler-legend">
        <div class="panel-body">
          <strong>Colours</strong>
          <ul class="list-unstyled">
            <li><span class="traveler-green traveler-key"></span> Edited nucleotides - if the template and the sequence do not match</li>
            <li><span class="traveler-red traveler-key"></span> Inserted nucleotides</li>
            <li><span class="traveler-blue traveler-key"></span> Re-inserted nucleotides</li>
            <li><span class="traveler-brown traveler-key"></span> Rotated nucleotides</li>
          </ul>
          <p>
            <strong>Tip:</strong> Hover over the structure to see nucleotide numbers and differencesÂ compared to the template.
          </p>
        </div>
      </div>

    </div>

    <div ng-if="$ctrl.numStructures === 0">
      <p>
        No secondary structures available
      </p>
    </div>

    <div class="col-md-12" ng-if="$ctrl.numStructures > 0" style="margin-bottom: 20px;">
      <p>Structure in dot-bracket notation:</p>
      <pre style="white-space: pre-wrap">{{ $ctrl.secondaryStructures.secondary_structures[0].secondary_structure }}</pre>
      <button class="btn btn-primary" ng-click="$ctrl.save2D()">Download</button>
    </div>

</div>
