<div id="secondary_structure" style="min-height: 600px">

    <h2>Secondary structure</h2>

    <div ng-if="$ctrl.numStructures === 0">
      <p>
        <i class='fa fa-spinner fa-spin fa-2x'></i> Loading...
      </p>
    </div>

    <div ng-if="$ctrl.numStructures > 0">
      <div>
        <p class="text-muted">
         Generated by
         <a href="https://github.com/RNAcentral/R2DT">R2DT</a>
         using the
         <a href='/search?q=secondary_structure_model:"{{ $ctrl.secondaryStructures.model_id }}"'
            uib-tooltip="Browse other sequences matching this template">
           {{ $ctrl.secondaryStructures.model_id }}
         </a>
         template provided by
         <a ng-if="$ctrl.secondaryStructures.source === 'crw'" href="http://www.rna.ccbb.utexas.edu/" target="_blank">CRW</a>
         <a ng-if="$ctrl.secondaryStructures.source === 'rfam'" href="https://rfam.org/" target="_blank">Rfam</a>
         <a ng-if="$ctrl.secondaryStructures.source === 'ribovision'" href="http://apollo.chemistry.gatech.edu/RiboVision/" target="_blank">RiboVision</a>
         <a ng-if="$ctrl.secondaryStructures.source === 'gtrnadb'" href="http://gtrnadb.ucsc.edu/" target="_blank">GtRNAdb</a>
         .
         <a href="{{ $ctrl.help }}">Learn more &rarr;</a>
        <p>
        <p ng-if="$ctrl.secondaryStructures.model_id.indexOf('RF0') === -1" class="text-muted small">
         Template lineage: {{ $ctrl.secondaryStructures.template_lineage }}
        </p>
      </div>

      <div class="btn-toolbar margin-bottom-10px" role="toolbar">
        <div class="btn-group" role="group">
          <a class="btn btn-default" id="2d-traveler-toggle-colors" ng-click="$ctrl.toggleColors()"><i class="fa fa-paint-brush" aria-hidden="true"></i> Toggle colours</a>
          <a class="btn btn-default" id="2d-traveler-download-png" ng-click="$ctrl.downloadPng()"><i class="fa fa-file-image-o" aria-hidden="true"></i> Save PNG</a>
          <a class="btn btn-default" id="2d-traveler-download-svg" ng-click="$ctrl.downloadSvg()"><i class="fa fa-file-code-o" aria-hidden="true"></i> Save SVG</a>
          <a class="btn btn-default" id="copy-dot-bracket-notation" ng-click="$ctrl.copy2D()"><i class="fa fa-copy" aria-hidden="true"></i> Copy dot-bracket notation</a>
        </div>
        <div class="btn-group" role="group">
          <a class="btn btn-default" id="copy-dot-bracket-notation" ng-click="$ctrl.feedback()"><i class="fa fa-comment-o" aria-hidden="true"></i> Is this diagram useful?</a>
        </div>
      </div>
  </div>

  <div id="rna_ss_traveler" class="col-md-12 col-sm-12 col-xs-12" style="overflow: auto;"></div>

  <div class="panel panel-default traveler-legend" ng-if="$ctrl.numStructures > 0">
    <div class="panel-body">
      <strong>Colour legend</strong>
      <ul class="list-unstyled">
        <li><span class="traveler-black traveler-key"></span> Same as the template</li>
        <li>
          <span class="traveler-green traveler-key"></span> Modified compared to the template.
          <strong>Tip:</strong> Hover over green nucleotides for more details
        </li>
        <li><span class="traveler-red traveler-key"></span> Inserted nucleotides</li>
        <li><span class="traveler-blue traveler-key"></span> Repositioned compared to the template</li>
        <li><strong>Tip:</strong> Hover over the nucleotides to see nucleotide numbers<li>
      </ul>
    </div>

    <h4>Dot-bracket notation</h4>
    <pre style="white-space: pre-wrap; max-height: 150px; margin-left: 10px; margin-right: 10px;" class="force-scrollbars">{{ $ctrl.secondaryStructures.secondary_structure }}</pre>
  </div>

</div>
